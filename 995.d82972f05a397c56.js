"use strict";(self.webpackChunkmarketplace=self.webpackChunkmarketplace||[]).push([[995],{2995:(M,a,c)=>{c.r(a),c.d(a,{ProductListComponent:()=>L});var t=c(2094),s=c(3713),p=c(4365),l=c(3191),d=c(3867),n=c(3446);const u=function(){return["/products/{{subcategory.url}}"]};function g(e,r){if(1&e&&(t.TgZ(0,"ul")(1,"li")(2,"a",13),t._uU(3),t.qZA()()()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.Q6J("routerLink",t.DdM(2,u)),t.xp6(1),t.Oqu(i.subCategory)}}function v(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,g,4,3,"ul",11),t.TgZ(2,"a",12),t._uU(3,"View All"),t.qZA()()),2&e){const i=r.$implicit,o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",(null==o?null:o.name)==i.category)}}function f(e,r){if(1&e&&(t.TgZ(0,"div",9)(1,"h3"),t._uU(2),t.qZA(),t.YNc(3,v,4,1,"div",10),t.qZA()),2&e){const i=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(null==i?null:i.name),t.xp6(1),t.Q6J("ngForOf",o.subcategories())}}function m(e,r){if(1&e&&(t.TgZ(0,"div",17)(1,"div",18),t._UZ(2,"img",19),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.hYB("src","assets/img/products/",i.category,"/vertical/",i.vertical_slider,"",t.LSH)}}function x(e,r){1&e&&t.YNc(0,m,3,2,"ng-template",16)}function h(e,r){if(1&e&&(t.TgZ(0,"div",14)(1,"ngb-carousel",15),t.YNc(2,x,1,0,null,10),t.qZA()()),2&e){const i=t.oxw(3);t.xp6(1),t.Q6J("showNavigationIndicators",!1)("interval",5e3),t.xp6(1),t.Q6J("ngForOf",i.healtAndBeautyProducts())}}function C(e,r){if(1&e&&(t.TgZ(0,"span",33),t._uU(1,"\u2605"),t.qZA()),2&e){const i=r.fill,o=t.oxw(6);t.ekj("filled",100===i),t.Q6J("ngClass","color"+o.rating)}}function y(e,r){if(1&e&&(t.TgZ(0,"div",22)(1,"div",23)(2,"a",24),t._UZ(3,"img",25),t.qZA(),t.TgZ(4,"div",26),t._uU(5,"-16%"),t.qZA()(),t.TgZ(6,"div",27)(7,"div",28)(8,"a",29),t._uU(9),t.qZA(),t.TgZ(10,"div",30)(11,"ngb-rating",31),t.YNc(12,C,2,3,"ng-template"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"p",32),t._uU(16),t.TgZ(17,"del"),t._uU(18),t.qZA()()()()()),2&e){const i=t.oxw().$implicit,o=t.oxw(4);t.xp6(3),t.hYB("src","assets/img/products/",i.category,"/",i.image,"",t.LSH),t.s9C("alt",i.name),t.xp6(5),t.MGl("routerLink","/product/",i.url,""),t.xp6(1),t.Oqu(i.name),t.xp6(2),t.Q6J("rate",o.rating)("max",5)("readonly",!0),t.xp6(3),t.Oqu(o.rating),t.xp6(2),t.hij("$",o.offer()," "),t.xp6(2),t.hij("",i.price," ")}}function P(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,y,19,11,"div",21),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Q6J("ngIf","Salud-Belleza"==i.category)}}function Z(e,r){if(1&e&&(t.TgZ(0,"div",20),t.YNc(1,P,2,1,"div",10),t.qZA()),2&e){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.productsFilteredByCategory())}}function T(e,r){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,f,4,2,"div",6),t.YNc(2,h,3,3,"div",7),t.YNc(3,Z,2,1,"div",8),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Q6J("ngIf","Salud-Belleza"==i.url),t.xp6(1),t.Q6J("ngIf","Salud-Belleza"==i.url),t.xp6(1),t.Q6J("ngIf","Salud-Belleza"==i.url)}}function O(e,r){1&e&&(t.TgZ(0,"div",34),t._UZ(1,"div",35),t.qZA())}function A(e,r){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,T,4,3,"div",3),t.YNc(3,O,2,0,"div",4),t.qZA()()),2&e){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.categories()),t.xp6(1),t.Q6J("ngIf",!i.preload)}}let L=(()=>{class e{constructor(){this.service=(0,t.f3M)(p.Y),this.categories=this.service.getCategories,this.preload=this.service.preloadCategories(),this.subcategories=this.service.subcategoriesData,this.productsFilteredByCategory=this.service.productsFilteredByCategory,this.healtAndBeautyProducts=this.service.healtAndBeautyProducts,this.rating=0,this.dataSubcategories=(0,t.Flj)(()=>{this.categories().map(i=>{this.service.getSubCategories(l.C.FilterByCategory,i.name),this.service.getFilterAndLimitedProductsByCategory(l.C.FilterByCategory,i.url,6)})}),this.offer=(0,t.Flj)(()=>{let i=0;return this.productsFilteredByCategory().map(o=>{this.getRatingData(o),"Disccount"==o.offer[0]&&(i=Math.floor(o.price-o.price*parseInt(o.offer[1])/100)),"Fixed"==o.offer[0]&&(i=parseInt(o.offer[1]))}),i}),(0,t.cEC)(()=>{this.dataSubcategories(),this.service.getSampleProductsLimited()})}getRatingData(i){let o=Array.from(i.reviews).length,_=Array.from(i.reviews).reduce((b,I)=>b+I.review,0);this.rating=Math.round(_/o)}static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["marketplace-product-list"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","ps-section--gray",4,"ngIf"],[1,"ps-section--gray"],[1,"container"],["class","ps-block--products-of-category",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"ps-block--products-of-category"],["class","ps-block__categories",4,"ngIf"],["class","ps-block__slider",4,"ngIf"],["class","ps-block__product-box",4,"ngIf"],[1,"ps-block__categories"],[4,"ngFor","ngForOf"],[4,"ngIf"],["href","#",1,"ps-block__more-link"],[3,"routerLink"],[1,"ps-block__slider"],[3,"showNavigationIndicators","interval"],["ngbSlide",""],[1,"ps-banner--market-4"],[1,"carousel-caption"],["alt","",3,"src"],[1,"ps-block__product-box"],["class","ps-product ps-product--simple",4,"ngIf"],[1,"ps-product","ps-product--simple"],[1,"ps-product__thumbnail"],["href","product-default.html"],[3,"src","alt"],[1,"ps-product__badge"],[1,"ps-product__container"],["data-mh","clothing",1,"ps-product__content"],[1,"ps-product__title",3,"routerLink"],[1,"ps-product__rating"],[3,"rate","max","readonly"],[1,"ps-product__price","sale"],[3,"ngClass"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-muted","my-5"]],template:function(o,_){1&o&&t.YNc(0,A,4,2,"div",0),2&o&&t.Q6J("ngIf",_.preload)},dependencies:[s.ez,s.mk,s.sg,s.O5,d.Bz,d.rH,n.mO,n.OC,n.mH,n.uo,n.xl],styles:[".filled.color1[_ngcontent-%COMP%], .filled.color2[_ngcontent-%COMP%], .filled.color4[_ngcontent-%COMP%], .filled.color3[_ngcontent-%COMP%]{color:#ffc107}.carousel-caption[_ngcontent-%COMP%]{position:initial;height:500px;padding:0}.carousel-caption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;object-fit:contain}"]})}return e})()}}]);